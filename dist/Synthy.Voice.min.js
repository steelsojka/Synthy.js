/**
 * Synthy.Voice.min.js v0.1
 *
 * A polyphonic customizable synthesizer
 * @author Steven Sojka - Thursday, February 07, 2013
 *
 * MIT Licensed
 */
var Synthy=function(){Synthy.Voice=function(b,a,d){this.osc=[];this.driveFx=[];this.envelope=new Synthy.Envelope(a.envelope,d);this.filter=new Synthy.Filter(a.filter,b,d);for(var c=0,e=a.osc.length;c<e;c++)this.osc.push(new Synthy.Osc(a.osc[c],b,d)),this.driveFx.push(new Synthy.Drive({drive:a.osc[c].driveAmount,mix:a.osc[c].driveMix,type:a.osc[c].driveType},d)),this.osc[c].output.connect(this.driveFx[c].input),this.driveFx[c].output.connect(this.filter.input);this.filter.output.connect(this.envelope.input);
this.output=this.envelope.input};Synthy.Voice.prototype={trigger:function(){for(var b=0,a=this.osc.length;b<a;b++)this.osc[b].trigger();this.filter.trigger();this.envelope.trigger()},release:function(){var b=this.envelope.getReleaseTime();this.envelope.release();this.filter.release();for(var a=0,d=this.osc.length;a<d;a++)this.osc[a].release(b);setTimeout(this.destroy.bind(this),1E3*b)},destroy:function(){this.output.disconnect(0)},kill:function(){for(var b=0,a=this.osc.length;b<a;b++)this.osc[b].kill()}};
return Synthy}(Synthy||{});
